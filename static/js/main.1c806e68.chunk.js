(this["webpackJsonptest-usereducer"]=this["webpackJsonptest-usereducer"]||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(13)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(2),c=n.n(a),i=(n(11),n(4)),l=n(5),u=n(3),d=(new Date).toISOString().substring(0,10),m={id:0,discription:"",date:d,important:!1,done:!1,doneDate:""};function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e,t){switch(t.type){case"RESET":return t.payload;case"ADD_DISCRIPTION":return p({},e,{todoForm:p({},e.todoForm,{discription:t.payload})});case"ADD_DATE":return t.payload>=d?p({},e,{todoForm:p({},e.todoForm,{date:t.payload})}):e;case"ADD_IMPORTANT":return p({},e,{todoForm:p({},e.todoForm,{important:t.payload})});case"ADD_TODO":return p({},e,{todoForm:p({},m,{id:e.todoForm.id+1}),todoList:[].concat(Object(l.a)(e.todoList),[t.payload]).sort((function(e,t){return t.date-e.date}))});case"DELETE_TODO":return p({},e,{todoList:e.todoList.filter((function(e){return e.id!==t.item.id}))});case"MAKEDONE_TODO":return p({},e,{todoList:e.todoList.map((function(e){return e.id===t.item.id?p({},e,{done:!0,doneDate:d}):p({},e)}))});default:return e}},f=function(){var e=Object(o.useContext)(b),t=e.appState,n=e.dispatch,a=function(e){e.preventDefault(),n({type:"ADD_TODO",payload:t.todoForm})};return r.a.createElement(b.Consumer,null,(function(){return r.a.createElement("div",{className:"app__todoForm"},r.a.createElement("h2",null,"Make new todo: "),r.a.createElement("form",{onSubmit:a},r.a.createElement("span",null,"Fill out the task description: "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Enter text here ...",value:t.todoForm.discription,min:"8",required:!0,onChange:function(e){return n({type:"ADD_DISCRIPTION",payload:e.currentTarget.value})}}),r.a.createElement("br",null),r.a.createElement("span",null,"Deadline date: "),r.a.createElement("br",null),r.a.createElement("input",{type:"date",value:t.todoForm.date,onChange:function(e){return n({type:"ADD_DATE",payload:e.currentTarget.value})}}),r.a.createElement("br",null),r.a.createElement("span",null,"Priority: "),r.a.createElement("input",{type:"checkbox",checked:t.todoForm.important,onChange:function(e){return n({type:"ADD_IMPORTANT",payload:e.currentTarget.checked})}}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Add")))}))},O=function(e){var t=Object(o.useContext)(b),n=t.deleteTodo,a=t.makeDoneTodo;return r.a.createElement("li",{key:e.item.id,className:"todoList__item todoList__item--undone"},r.a.createElement("span",{className:"item__text",style:e.item.important?{color:"red"}:void 0},e.item.discription,", perform until: ",e.item.date," "),r.a.createElement("button",{onClick:function(){return a(e.item)}},"Done!")," ",r.a.createElement("button",{onClick:function(){return n(e.item)}},"Delete"))},D=function(e){var t=Object(o.useContext)(b).deleteTodo;return r.a.createElement("li",{key:e.item.id,className:"todoList__item todoList__item--done"},r.a.createElement("span",{className:"item__text"},e.item.discription,", done: ",e.item.doneDate),r.a.createElement("button",{onClick:function(){return t(e.item)}},"Delete"))},y=function(){var e=Object(o.useContext)(b).appState,t=e.todoList.filter((function(e){return!e.done})),n=e.todoList.filter((function(e){return e.done}));return r.a.createElement(b.Consumer,null,(function(){return r.a.createElement("div",{className:"app__todoList"},r.a.createElement("h2",null,"Tasks to do:"),r.a.createElement("ul",null,t.map((function(e){return r.a.createElement(O,{item:e})}))),r.a.createElement("h2",null,"Tasks completed:"),r.a.createElement("ul",null,n.map((function(e){return r.a.createElement(D,{item:e})}))))}))},b=(n(12),r.a.createContext()),h=function(){var e=Object(o.useReducer)(E,{todoForm:m,todoList:[]}),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(o.useRef)(!1);Object(o.useEffect)((function(){if(!c.current){var e=localStorage.getItem("data");a({type:"RESET",payload:JSON.parse(e)}),c.current=!0}})),Object(o.useEffect)((function(){localStorage.setItem("data",JSON.stringify(n))}),[n]);return r.a.createElement(b.Provider,{value:{appState:n,dispatch:a,deleteTodo:function(e){a({type:"DELETE_TODO",item:e})},makeDoneTodo:function(e){a({type:"MAKEDONE_TODO",item:e})}}},r.a.createElement("div",{className:"App"},r.a.createElement(f,null),r.a.createElement(y,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[6,1,2]]]);
//# sourceMappingURL=main.1c806e68.chunk.js.map